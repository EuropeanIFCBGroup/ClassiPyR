% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/database.R
\name{save_annotations_db}
\alias{save_annotations_db}
\title{Save annotations to the SQLite database}
\usage{
save_annotations_db(
  db_path,
  sample_name,
  classifications,
  class2use,
  annotator = "Unknown",
  is_manual = NULL
)
}
\arguments{
\item{db_path}{Path to the SQLite database file}

\item{sample_name}{Sample name (e.g., \code{"D20230101T120000_IFCB134"})}

\item{classifications}{Data frame with at least \code{file_name} and
\code{class_name} columns}

\item{class2use}{Character vector of class names (preserves index order for
.mat export)}

\item{annotator}{Annotator name}

\item{is_manual}{Integer vector of 0/1 flags indicating whether each ROI was
manually reviewed (1) or not yet reviewed (0, corresponding to NaN in .mat
files). If \code{NULL} (the default), all ROIs are treated as reviewed.}
}
\value{
TRUE on success, FALSE on failure
}
\description{
Writes (or replaces) annotations for a single sample. The existing rows for
the sample are deleted first so that re-saving acts as an upsert.
}
\examples{
\dontrun{
db_path <- get_db_path("/data/manual")
save_annotations_db(db_path, "D20230101T120000_IFCB134",
                    classifications, class2use, "Jane")
}
}
