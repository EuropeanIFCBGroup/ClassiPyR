[{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to ClassiPyR","title":"Contributing to ClassiPyR","text":"Thank interest contributing ClassiPyR! document provides guidelines contributing project.","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"prerequisites","dir":"","previous_headings":"Getting Started","what":"Prerequisites","title":"Contributing to ClassiPyR","text":"R (>= 4.0.0) devtools package development Python scipy (required saving .mat annotation files)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"setting-up-the-development-environment","dir":"","previous_headings":"Getting Started","what":"Setting Up the Development Environment","title":"Contributing to ClassiPyR","text":"Fork repository GitHub Clone fork locally: Install package development mode: Set Python environment (required saving .mat annotation files):","code":"git clone https://github.com/YOUR-USERNAME/ClassiPyR.git cd ClassiPyR devtools::install_deps(dependencies = TRUE) devtools::load_all() library(iRfcb) ifcb_py_install(envname = \"./venv\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"running-the-app-during-development","dir":"","previous_headings":"Getting Started","what":"Running the App During Development","title":"Contributing to ClassiPyR","text":"","code":"# From the repository root shiny::runApp()  # Or run from inst/app shiny::runApp(\"inst/app\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"package-structure","dir":"","previous_headings":"","what":"Package Structure","title":"Contributing to ClassiPyR","text":"","code":"ClassiPyR/ ├── R/                      # Package functions (exported) │   ├── run_app.R           # App launcher │   ├── utils.R             # Utility functions │   ├── sample_loading.R    # Sample loading logic │   └── sample_saving.R     # Sample saving logic ├── inst/ │   ├── app/                # Shiny application │   │   ├── app.R           # Entry point │   │   ├── global.R        # Initialization │   │   ├── server.R        # Server logic │   │   └── ui.R            # User interface │   └── CITATION            # Citation info ├── tests/testthat/         # Test suite ├── vignettes/              # Documentation articles ├── man/                    # Function documentation (auto-generated) └── docs/                   # pkgdown site (auto-generated)"},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"reporting-bugs","dir":"","previous_headings":"How to Contribute","what":"Reporting Bugs","title":"Contributing to ClassiPyR","text":"submitting bug report: - Check existing issues avoid duplicates - Collect information bug (R version, OS, error messages) submitting bug report, please include: - clear, descriptive title - Steps reproduce issue - Expected vs actual behavior - R session info (sessionInfo() output) - Screenshots applicable","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"suggesting-features","dir":"","previous_headings":"How to Contribute","what":"Suggesting Features","title":"Contributing to ClassiPyR","text":"Feature suggestions welcome! Please: - Check existing issues similar suggestions - Describe feature use case - Explain benefit IFCB researchers","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"submitting-changes","dir":"","previous_headings":"How to Contribute","what":"Submitting Changes","title":"Contributing to ClassiPyR","text":"Create new branch feature fix: Make changes following code style guidelines Run tests checks: Commit changes descriptive message: Push fork: Open Pull Request main branch","code":"git checkout -b feature/your-feature-name devtools::test() devtools::check() git commit -m \"feat: add support for new classification format\" git push origin feature/your-feature-name"},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"r-code","dir":"","previous_headings":"Code Style Guidelines","what":"R Code","title":"Contributing to ClassiPyR","text":"Use meaningful variable function names Document exported functions roxygen2 comments Keep functions focused modular Follow tidyverse style guide applicable Aim >80% test coverage new code","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"commit-messages","dir":"","previous_headings":"Code Style Guidelines","what":"Commit Messages","title":"Contributing to ClassiPyR","text":"Use conventional commit format: - feat: new features - fix: bug fixes - docs: documentation changes - test: test additions modifications - refactor: code refactoring","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"Contributing to ClassiPyR","text":"Run test suite submitting: Check R CMD check issues: Tests located tests/testthat/. adding new functionality, please include appropriate tests.","code":"devtools::test() devtools::check()"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Contributing to ClassiPyR","text":"Function documentation uses roxygen2 (R/ files) User guides vignettes/ R Markdown pkgdown site built automatically via GitHub Actions preview documentation locally:","code":"devtools::document() pkgdown::build_site()"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"","what":"Pull Request Process","title":"Contributing to ClassiPyR","text":"Ensure tests pass (devtools::test()) Ensure R CMD check passes (devtools::check()) Update documentation needed Describe changes clearly PR description Link related issues responsive review feedback","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"questions","dir":"","previous_headings":"","what":"Questions?","title":"Contributing to ClassiPyR","text":"Feel free open issue questions contributing.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/CONTRIBUTING.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Contributing to ClassiPyR","text":"contributing, agree contributions licensed MIT License.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"why-class-indices-matter-ifcb-analysis-users","dir":"Articles","previous_headings":"","what":"Why Class Indices Matter (ifcb-analysis Users)","title":"Class List Management","text":"Note: section primarily relevant use ifcb-analysis MATLAB toolbox (Sosik & Olson, 2007). work CSV exports, class indices less critical. IFCB .mat annotations use numerical indices reference classes: save annotation .mat file ifcb-analysis, file stores: ROI number: 00042 Class index: 2 (meaning “Ciliate”) change order remove classes, existing .mat annotations become invalid ifcb-analysis!","code":"Index 1 → unclassified Index 2 → Ciliate Index 3 → Dinoflagellate Index 4 → Diatom ..."},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"creating-a-class-list-from-scratch","dir":"Articles","previous_headings":"","what":"Creating a Class List from Scratch","title":"Class List Management","text":"can create new class list directly app without uploading file: Class list editor adding, removing, reordering classes. Click enlarge. Open Settings → Edit Class List editor opens empty class list Add classes using either method: Method 1 - One time: Type class name “Add new class” field Click Add End Repeat class Method 2 - Bulk entry: Type paste class names text area (one per line) Click Apply Changes app creates temporary class list file automatically Save work: Click Save .mat Save .txt keep class list future sessions Note: temporary class list works current session, save file future use.","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"from-mat-file","dir":"Articles","previous_headings":"Loading an Existing Class List","what":"From MAT File","title":"Class List Management","text":"Standard MATLAB class2use format: Open Settings Click Browse next “Class List File” Select .mat file","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"from-text-file","dir":"Articles","previous_headings":"Loading an Existing Class List","what":"From Text File","title":"Class List Management","text":"One class per line:","code":"unclassified Ciliate Dinoflagellate Diatom"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"viewing-classes","dir":"Articles","previous_headings":"","what":"Viewing Classes","title":"Class List Management","text":"Open Settings → Edit Class List left panel shows classes indices Toggle ID / -Z sort view Note: Sorting viewing - doesn’t change actual indices.","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"renaming-a-class","dir":"Articles","previous_headings":"Editing Classes","what":"Renaming a Class","title":"Class List Management","text":"can safely rename classes without breaking annotations: Find class edit text area Change name Click Apply Changes index stays , existing annotations remain valid.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"adding-new-classes","dir":"Articles","previous_headings":"Editing Classes","what":"Adding New Classes","title":"Class List Management","text":"New classes must go end list: Method 1 - Quick Add: Type name “Add new class” field Click Add End Method 2 - Text Edit: Add new classes bottom text area Click Apply Changes","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"what-not-to-do-ifcb-analysis-users","dir":"Articles","previous_headings":"Editing Classes","what":"What NOT to Do (ifcb-analysis Users)","title":"Class List Management","text":"Note: restrictions apply export .mat files use ifcb-analysis. CSV exports store class names directly affected index changes. Never remove classes - shifts subsequent indices Never reorder classes - changes index--name mapping Never insert middle - shifts indices ","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"example-what-goes-wrong-ifcb-analysis","dir":"Articles","previous_headings":"Editing Classes","what":"Example: What Goes Wrong (ifcb-analysis)","title":"Class List Management","text":"Original list: remove “Ciliate”: Now “Ciliate” (index 2) .mat annotations become “Dinoflagellate” loaded ifcb-analysis!","code":"1: unclassified 2: Ciliate 3: Dinoflagellate 4: Diatom 1: unclassified 2: Dinoflagellate  ← Was index 3, now index 2! 3: Diatom  ← Was index 4, now index 3!"},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"save-as-mat","dir":"Articles","previous_headings":"Exporting Class Lists","what":"Save as MAT","title":"Class List Management","text":"Creates MATLAB-compatible class2use.mat use ifcb-analysis: Click Save .mat Choose location browser download Note: Saving .mat files requires Python scipy.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"save-as-txt","dir":"Articles","previous_headings":"Exporting Class Lists","what":"Save as TXT","title":"Class List Management","text":"Creates simple text file: Click Save .txt Choose location browser download","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"best-practices","dir":"Articles","previous_headings":"","what":"Best Practices","title":"Class List Management","text":"Backup class list making changes Add classes end (required ifcb-analysis compatibility) Never delete - mark deprecated classes prefix like “OLD_” (ifcb-analysis users) Document changes project notes Use consistent naming - decide convention (underscores, capitalization) Tip: don’t use ifcb-analysis work CSV exports, flexibility class list management since CSV files store class names directly.","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"allowed-characters","dir":"Articles","previous_headings":"Class Naming Conventions","what":"Allowed Characters","title":"Class List Management","text":"characters commonly used taxonomic names allowed: Letters (-z, -Z) Numbers (0-9) Underscores (_) Hyphens (-) - e.g., “Strombidium-like” Periods (.) Spaces","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"characters-that-are-modified","dir":"Articles","previous_headings":"Class Naming Conventions","what":"Characters That Are Modified","title":"Class List Management","text":"Since class names used folder names exporting PNGs, characters automatically sanitized: Example ambiguous taxa: Snowella/Woronichinia class list, saved Snowella_Woronichinia. app display message happens.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"merging-class-lists","dir":"Articles","previous_headings":"","what":"Merging Class Lists","title":"Class List Management","text":"need combine class lists different projects: Export text files Manually merge, keeping original indices Add new classes end Import merged list","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"unclassified","dir":"Articles","previous_headings":"Special Classes","what":"“unclassified”","title":"Class List Management","text":"Usually index 1 end Used images confidence threshold Used images can’t identify","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/class-management.html","id":"detritusartifacts","dir":"Articles","previous_headings":"Special Classes","what":"Detritus/Artifacts","title":"Class List Management","text":"Consider classes : detritus bubble bad_image multiple_organisms","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"general","dir":"Articles","previous_headings":"Frequently Asked Questions","what":"General","title":"FAQ & Troubleshooting","text":"Q: IFCB data formats supported? : app reads standard IFCB files: ROI files (.roi) - Image data ADC files (.adc) - Metadata (dimensions, timestamps) HDR files (.hdr) - Header information Q: Can use non-IFCB data? : app specifically designed IFCB data format. imaging systems, need adapt data loading functions. Q: data modified? : . app reads original files. output written separate folders.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"installation-issues","dir":"Articles","previous_headings":"","what":"Installation Issues","title":"FAQ & Troubleshooting","text":"Q: see “Python available” warning : warning affects saving .mat files. Python required : Saving annotations .mat files ifcb-analysis Reading .mat files (annotations, classifier output, class lists) require Python. need save .mat files, can ignore warning. enable .mat support: restart app. Q: Python virtual environment created? : default, ifcb_py_install() creates venv folder home directory. can specify different location: can also specify venv path launching app: Q: Python virtual environment path resolved? : app uses following priority order: venv_path argument passed run_app() (highest priority) Saved settings previous session (stored settings.json) Default ./venv working directory specify run_app(venv_path = \"/path//venv\"), path used Python initialization pre-filled Settings dialog, overriding previously saved path. Q: Package installation fails : Make sure remotes installed try: Q: “find app directory” error : Try reinstalling package: Q: iRfcb won’t install : iRfcb core dependency ClassiPyR installed automatically. encounter issues:","code":"library(iRfcb) ifcb_py_install()  # Creates venv in current working directory ifcb_py_install(\"/path/to/your/venv\") run_app(venv_path = \"/path/to/your/venv\") install.packages(\"remotes\") remotes::install_github(\"EuropeanIFCBGroup/ClassiPyR\") install.packages(\"iRfcb\") install.packages(\"iRfcb\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"data-loading","dir":"Articles","previous_headings":"","what":"Data Loading","title":"FAQ & Troubleshooting","text":"Q: samples appear dropdown : Check : ROI Data Folder points data ROI files exist readable Click Sync button (circular arrow icon) rescan folders recently added new data Q: “ROI file found” error : app scans ROI Data Folder recursively, subfolder layout works (including flat). Check : ROI Data Folder path correct .roi file matching .adc file directory Filenames follow IFCB naming convention (DYYYYMMDDTHHMMSS_IFCBNNN) Click Sync button rescan recently moved added files Q: Classifications loading : CSV files: Must columns named file_name class_name (exact names required) Optionally include score column (confidence value 0 1) CSV file must named sample (e.g., D20230101T120000_IFCB134.csv) File Classification Folder (indexed via file cache; click Sync refresh) MAT files: Must match pattern *_class*.mat Must contain roinum TBclass variables Must contain roinum TBclass variables","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"csv-format","dir":"Articles","previous_headings":"","what":"CSV Format","title":"FAQ & Troubleshooting","text":"Q: classification CSV look like? : CSV must columns named file_name class_name. file must named sample (e.g., D20230101T120000_IFCB134.csv). Minimal example: optional score column (confidence values 0 1): Q: CNN classifier outputs different column names : column names must exactly file_name class_name. classifier uses different names, rename columns loading. example R:","code":"file_name,class_name D20230101T120000_IFCB134_00001.png,Diatom D20230101T120000_IFCB134_00002.png,Ciliate file_name,class_name,score D20230101T120000_IFCB134_00001.png,Diatom,0.95 D20230101T120000_IFCB134_00002.png,Ciliate,0.87 D20230101T120000_IFCB134_00003.png,Dinoflagellate,0.72 df <- read.csv(\"my_classifications.csv\") names(df)[names(df) == \"predicted_class\"] <- \"class_name\" names(df)[names(df) == \"filename\"] <- \"file_name\" write.csv(df, \"D20230101T120000_IFCB134.csv\", row.names = FALSE)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"annotation","dir":"Articles","previous_headings":"","what":"Annotation","title":"FAQ & Troubleshooting","text":"Q: Drag-select isn’t working : Make sure ’re: Starting drag gallery area (image) Using left mouse button Dragging far enough (>5 pixels) Q: Images show “found” : ROI might empty (actual image data). filtered automatically load. Q: Changes aren’t saved : Check : Output folder writable Python available (required saving .mat files) Click “Save Annotations” closing","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"class-list","dir":"Articles","previous_headings":"","what":"Class List","title":"FAQ & Troubleshooting","text":"Q: need upload class list file start annotating? : ! can create class list scratch directly app: Open Settings → Edit Class List (file upload needed) Add classes one time paste multiple classes text area Click Apply Changes - temporary file created automatically Start annotating immediately Remember Save .mat .txt future sessions Q: create class list scratch? : Open Settings → Edit Class List Add classes using “Add new class” field, type/paste classes text area Click Apply Changes Save .mat .txt future use Q: Can import class list MATLAB? : Yes, load existing class2use.mat file via Settings. Q: class names look different loading : app may truncate trailing numbers class names (e.g., “Diatom_01” → “Diatom”). matches iRfcb behavior. Q: characters class names changed? : Class names used folder names exporting PNGs, certain characters must sanitized: Example: Snowella/Woronichinia becomes Snowella_Woronichinia Common taxonomic characters like hyphens (-), underscores (_), periods (.), spaces preserved.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"output","dir":"Articles","previous_headings":"","what":"Output","title":"FAQ & Troubleshooting","text":"Q: annotations saved? : Output Folder configured: MAT annotation files saved directly output folder (one per sample) validation_statistics/ subfolder contains CSV statistics PNGs PNG Output Folder, organized class name Q: Can import annotations back MATLAB? : Yes, MAT files compatible ifcb-analysis toolbox (Sosik & Olson, 2007). Use list startMC, load list MATLAB using: Note: Python scipy must installed save .mat files. Q: ’s statistics CSV? : Two files per sample: *_validation_stats.csv - Summary statistics *_validation_detailed.csv - Per-image details","code":"load('sample_name.mat'); % classlist contains [roi_number, class_index]"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"measurement","dir":"Articles","previous_headings":"","what":"Measurement","title":"FAQ & Troubleshooting","text":"Q: measure images? : Click Measure button (ruler icon) toolbar activate measure mode. click drag image draw measurement line. distance displayed micrometers pixels. Q: change scale calibration? : Open Settings find “Pixels per Micrometer”. default 3.4 (standard IFCB). Enter instrument’s calibration value.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"settings-persistence","dir":"Articles","previous_headings":"","what":"Settings & Persistence","title":"FAQ & Troubleshooting","text":"Q: settings saved sessions? : Yes! Settings stored configuration file: Linux: ~/.config/R/ClassiPyR/settings.json macOS: ~/Library/Preferences/org.R-project.R/R/ClassiPyR/settings.json Windows: %APPDATA%/R/config/R/ClassiPyR/settings.json Folder paths, class list location, Python venv path automatically restored restart app. Q: reset settings defaults? : Use reset_settings argument launching app: deletes saved settings.json file starts app default values. folder paths, class list reference, Python venv path cleared, need reconfigure . class list file (class2use_saved.*) deleted config directory loaded re-upload . useful : app fails start due invalid saved paths Folder paths point locations longer exist want clean slate changing data layout can also combine arguments: Q: ’s yellow warning classes? : Classes marked warning classification data class list. can happen : Loading classifications classifier trained different class list class list modified since classification created can still work classes, consider adding class list consistency. Q: sample shows annotation classification markers - mean? : sample manual annotations auto-classifications available. load : app defaults manual annotation mode can switch validation mode using button header mode maintains state independently","code":"run_app(reset_settings = TRUE) # Reset settings and specify a new Python environment run_app(reset_settings = TRUE, venv_path = \"/path/to/your/venv\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"file-index-cache","dir":"Articles","previous_headings":"","what":"File Index Cache","title":"FAQ & Troubleshooting","text":"Q: file index cache? : file index cache stores locations IFCB files (ROI, classification, annotation) found configured folders. ’s saved disk app doesn’t need re-scan entire folder hierarchy every time starts. significantly speeds startup large datasets. Q: refresh file cache? : Click Sync button (circular arrow icon) sidebar, next sample navigation buttons. cache age indicator shows last scan occurred. Q: New samples added aren’t showing : app loads cached file index. Click Sync button rescan folders pick new files. Q: Can update cache without opening app? : Yes. Use rescan_file_index() R console scheduled script: reads folder paths saved settings rebuilds cache. can also pass paths explicitly: Q: cache file stored? : config directory settings: Linux: ~/.config/R/ClassiPyR/file_index.json macOS: ~/Library/Preferences/org.R-project.R/R/ClassiPyR/file_index.json Windows: %APPDATA%/R/config/R/ClassiPyR/file_index.json","code":"ClassiPyR::rescan_file_index() ClassiPyR::rescan_file_index(   roi_folder = \"/data/ifcb/raw\",   csv_folder = \"/data/ifcb/classified\",   output_folder = \"/data/ifcb/manual\" )"},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"performance-tips","dir":"Articles","previous_headings":"","what":"Performance Tips","title":"FAQ & Troubleshooting","text":"File index cache - app caches folder scan results fast startup. Click Sync ’ve added new data. Use pagination - Lower images per page faster loading Filter class - Reduces rendering load Close apps - Image extraction uses memory SSD storage - Faster file access Scheduled rescans - servers regularly arriving data, use ClassiPyR::rescan_file_index() cron job keep cache current without manual intervention","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/faq.html","id":"getting-help","dir":"Articles","previous_headings":"","what":"Getting Help","title":"FAQ & Troubleshooting","text":"GitHub Issues - Report bugs iRfcb Documentation - Core dependency IFCB data handling","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"before-you-begin","dir":"Articles","previous_headings":"","what":"Before You Begin","title":"Getting Started","text":"Make sure : package installed (see Installation) IFCB data files (ROI, ADC, HDR) Optionally: class list file (.mat .txt) - can also create one scratch app Optionally: existing classifications (CSV classifier MAT files, see )","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"python-requirements","dir":"Articles","previous_headings":"Before You Begin","what":"Python Requirements","title":"Getting Started","text":"Python required saving annotations MATLAB .mat files use ifcb-analysis. Reading existing .mat files (annotations, classifier output, class lists) require Python. need read .mat files work CSV classification files, Python required.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"csv-classification-format","dir":"Articles","previous_headings":"Before You Begin","what":"CSV Classification Format","title":"Getting Started","text":"existing classifications CSV format, file must named sample (e.g., D20230101T120000_IFCB134.csv) contain least columns: optional score column (confidence values 0 1) can also included. See User Guide details.","code":"file_name,class_name D20230101T120000_IFCB134_00001.png,Diatom D20230101T120000_IFCB134_00002.png,Ciliate"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"python-setup","dir":"Articles","previous_headings":"Before You Begin","what":"Python Setup","title":"Getting Started","text":"set Python:","code":"library(iRfcb) ifcb_py_install(envname = \"./venv\")  # Creates venv in current working directory"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"step-1-configure-settings","dir":"Articles","previous_headings":"","what":"Step 1: Configure Settings","title":"Getting Started","text":"Launch app: Click gear icon next username sidebar. Settings dialog showing folder configuration options. Click enlarge. Configure folders using built-folder browser: Click Save Settings. app scan folders build file index cache fast loading. Note: Python virtual environment path configured via run_app(venv_path = ...) remembered future sessions. See FAQ details path resolved.","code":"library(ClassiPyR) run_app()  # Or specify a custom Python virtual environment path (takes priority over saved settings) run_app(venv_path = \"./venv\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"step-2-set-up-your-class-list","dir":"Articles","previous_headings":"","what":"Step 2: Set Up Your Class List","title":"Getting Started","text":"two options setting class list:","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"option-a-load-an-existing-class-list","dir":"Articles","previous_headings":"Step 2: Set Up Your Class List","what":"Option A: Load an Existing Class List","title":"Getting Started","text":"existing class list file: Settings, click Browse next “Class List File” Select .mat .txt file app confirm many classes loaded","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"option-b-create-a-class-list-from-scratch","dir":"Articles","previous_headings":"Step 2: Set Up Your Class List","what":"Option B: Create a Class List from Scratch","title":"Getting Started","text":"’re starting new project without class list: Click Edit Class List Settings (need upload file first) Type class name “Add new class” field click Add End Type paste multiple classes (one per line) text area click Apply Changes app create temporary class list automatically Important: Click Save .mat Save .txt save class list future sessions Tip: can start annotating immediately creating classes - app handles temporary file automatically.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"step-3-select-a-sample","dir":"Articles","previous_headings":"","what":"Step 3: Select a Sample","title":"Getting Started","text":"Choose Year dropdown. Optionally filter Month. Select Show: samples: See everything Auto-classified (validation): Samples existing auto-classifications Manually annotated: Samples ’ve previously annotated Unannotated: New samples (annotation scratch) Choose sample dropdown: ✎ = manual annotation ✓ = auto-classification ✎✓ = (can switch modes) * = Unannotated (new sample) Sample browser year/month filters. Click enlarge. Click Load. Tip: sample list seems date, click Sync button (circular arrow icon) next navigation buttons rescan folders. Tip: Samples ✎✓ let switch viewing manual annotations auto-classifications using button header.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"step-4-review-images","dir":"Articles","previous_headings":"","what":"Step 4: Review Images","title":"Getting Started","text":"loaded, ’ll see Image Gallery: Image gallery showing classified plankton images grouped class. Click enlarge. Images grouped class image shows ROI number Relabeled images yellow borders Classification scores shown (available)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"navigation","dir":"Articles","previous_headings":"Step 4: Review Images","what":"Navigation","title":"Getting Started","text":"Use Filter Class focus one class Use pagination navigate pages Change images per page (50/100/200/500)","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"selecting-images","dir":"Articles","previous_headings":"Step 5: Make Annotations","what":"Selecting Images","title":"Getting Started","text":"Single click: Select/deselect one image Drag select: Click hold empty area Drag create selection box images box selected Batch select: Select : Select visible images Deselect: Clear selection","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"relabeling","dir":"Articles","previous_headings":"Step 5: Make Annotations","what":"Relabeling","title":"Getting Started","text":"Select one images Type search class “Relabel ” Click Relabel Relabeling workflow: selected images (blue borders) ready assigned new class. Click enlarge. images move new class group.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"step-6-save-your-work","dir":"Articles","previous_headings":"","what":"Step 6: Save Your Work","title":"Getting Started","text":"Click Save Annotations save: MAT file MATLAB compatibility (requires Python; use ifcb-analysis) Statistics CSV accuracy metrics PNGs organized class","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"auto-save","dir":"Articles","previous_headings":"Step 6: Save Your Work","what":"Auto-save","title":"Getting Started","text":"Work automatically saved : navigate another sample close app (attempts save)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"tips-for-efficient-annotation","dir":"Articles","previous_headings":"","what":"Tips for Efficient Annotation","title":"Getting Started","text":"Start large classes - Use “Filter Class” focus abundant taxa Use drag-select - Much faster clicking individual images Sort size - Images sorted ROI area, grouping similar organisms Check statistics - “Validation Statistics” tab shows progress","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started","text":"User Guide - Complete feature documentation Class List Management - Managing class lists ifcb-analysis FAQ & Troubleshooting - Common issues solutions","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"interface-overview","dir":"Articles","previous_headings":"","what":"Interface Overview","title":"User Guide","text":"ClassiPyR interface showing title bar, sidebar, main image gallery area. Click enlarge.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"title-bar","dir":"Articles","previous_headings":"Interface Overview","what":"Title Bar","title":"User Guide","text":"App name version sample loaded: Initial state selecting sample Validation mode: Shows accuracy percentage Annotation mode: Shows progress (X/Y classified)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"sidebar","dir":"Articles","previous_headings":"Interface Overview","what":"Sidebar","title":"User Guide","text":"Annotator name: name statistics tracking Settings: Configure folders options Sample selection: Year, month, status filters Navigation: Load, previous, next, random, sync Cache age: Shows folders last scanned Save button: Manual save trigger","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"main-area-tabs","dir":"Articles","previous_headings":"Interface Overview","what":"Main Area (Tabs)","title":"User Guide","text":"Image Gallery: View annotate images Summary Table: Class distribution statistics Validation Statistics: Accuracy metrics change log","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"validation-mode","dir":"Articles","previous_headings":"Validation vs Annotation Mode","what":"Validation Mode","title":"User Guide","text":"Activated loading samples existing auto-classifications Original classifications shown confidence scores Statistics track many ’ve changed Accuracy percentage calculated","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"annotation-mode","dir":"Articles","previous_headings":"Validation vs Annotation Mode","what":"Annotation Mode","title":"User Guide","text":"Activated samples without classifications images start “unclassified” Progress shows classified vs remaining Validation statistics tab shows annotation progress instead","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"samples-with-both-modes","dir":"Articles","previous_headings":"Validation vs Annotation Mode","what":"Samples with Both Modes","title":"User Guide","text":"samples may manual annotations auto-classifications (e.g., previously annotated sample, ran classifier ). samples: sample dropdown shows ✎✓ indicator loaded, can switch modes using button header mode maintains state independently","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"image-cards","dir":"Articles","previous_headings":"Working with Images","what":"Image Cards","title":"User Guide","text":"image card displays: plankton image ROI number Classification score (available) Original class (relabeled) Border colors: Default (gray): Unchanged Yellow: Relabeled session Blue: Currently selected Image card border colors: gray (unchanged), yellow (relabeled), blue (selected). Click enlarge.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"selecting-images","dir":"Articles","previous_headings":"Working with Images","what":"Selecting Images","title":"User Guide","text":"Drag-select: draw rectangle select multiple images . Click enlarge.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"relabeling","dir":"Articles","previous_headings":"Working with Images","what":"Relabeling","title":"User Guide","text":"Select target images Choose new class “Relabel ” dropdown Click Relabel dropdown supports type-ahead search - just start typing class name.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"measuring-images","dir":"Articles","previous_headings":"","what":"Measuring Images","title":"User Guide","text":"measure tool allows measure distances images.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"using-the-measure-tool","dir":"Articles","previous_headings":"Measuring Images","what":"Using the Measure Tool","title":"User Guide","text":"Click Measure button (ruler icon) toolbar activate measure mode Click drag image draw measurement line distance displayed micrometers (µm) pixels Click elsewhere image clear measurement Click Measure button deactivate measure mode Measure tool showing distance micrometers pixels. Click enlarge.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"configuring-scale","dir":"Articles","previous_headings":"Measuring Images","what":"Configuring Scale","title":"User Guide","text":"default scale 3.4 pixels per micrometer (standard IFCB). adjust: Open Settings (gear icon) Find Pixels per Micrometer field Enter instrument’s calibration value Click Save Settings","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"classification-sources","dir":"Articles","previous_headings":"","what":"Classification Sources","title":"User Guide","text":"ClassiPyR supports multiple classification input formats.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"csv-files","dir":"Articles","previous_headings":"Classification Sources","what":"CSV Files","title":"User Guide","text":"Standard classification CSV output. CSV file must named sample describes (e.g., D20230101T120000_IFCB134.csv). Required columns (exact names): file_name: Image filename including .png extension (e.g., D20230101T120000_IFCB134_00001.png) class_name: Predicted class name Optional columns: score: Classification confidence (0-1) Minimal example: Example confidence scores: Different CNN pipelines: classifier produces different column names, rename file_name class_name placing CSV Classification Folder. Files looked file index cache (see File Index Cache ).","code":"file_name,class_name D20230101T120000_IFCB134_00001.png,Diatom D20230101T120000_IFCB134_00002.png,Ciliate file_name,class_name,score D20230101T120000_IFCB134_00001.png,Diatom,0.95 D20230101T120000_IFCB134_00002.png,Ciliate,0.87 D20230101T120000_IFCB134_00003.png,Dinoflagellate,0.72"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"matlab-classifier-output","dir":"Articles","previous_headings":"Classification Sources","what":"MATLAB Classifier Output","title":"User Guide","text":"Files matching *_class*.mat pattern containing: roinum: ROI numbers TBclass_above_threshold: threshold TBclass: Without threshold Threshold option: Enable Settings include unclassified predictions confidence threshold.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"existing-annotations","dir":"Articles","previous_headings":"Classification Sources","what":"Existing Annotations","title":"User Guide","text":"Previously saved annotations (output folder) automatically detected can resumed.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"file-index-cache","dir":"Articles","previous_headings":"","what":"File Index Cache","title":"User Guide","text":"avoid slow startup scanning large folder hierarchies, ClassiPyR maintains file index cache disk. cache stores locations ROI, classification, annotation files found configured folders.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"how-it-works","dir":"Articles","previous_headings":"File Index Cache","what":"How it Works","title":"User Guide","text":"first launch (changing folder paths Settings), app scans configured folders saves results JSON cache file subsequent launches, app loads cached index instantly instead re-scanning cache stored alongside settings platform config directory (see Settings Persistence)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"sync-button","dir":"Articles","previous_headings":"File Index Cache","what":"Sync Button","title":"User Guide","text":"Sync button (circular arrow icon) sidebar navigation row triggers manual rescan folders. Use : ’ve added new IFCB data files folders sample dropdown seems date want force fresh scan cache age indicator navigation buttons shows folders last scanned (e.g. “synced just now”, “synced 2 hours ago”).","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"auto-sync","dir":"Articles","previous_headings":"File Index Cache","what":"Auto-Sync","title":"User Guide","text":"default, app checks whether cache matches current folder settings startup rescans automatically needed. can disable auto-sync Settings always load existing cache, provides fastest possible startup.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"headless-rescan","dir":"Articles","previous_headings":"File Index Cache","what":"Headless Rescan","title":"User Guide","text":"can update file index cache without launching app using rescan_file_index(). useful scheduled updates (e.g. cron jobs) servers new data arrives regularly:","code":"# Rescan using saved settings ClassiPyR::rescan_file_index()  # Or specify folder paths explicitly ClassiPyR::rescan_file_index(   roi_folder = \"/data/ifcb/raw\",   csv_folder = \"/data/ifcb/classified\",   output_folder = \"/data/ifcb/manual\" )"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"output-files","dir":"Articles","previous_headings":"","what":"Output Files","title":"User Guide","text":"save, app creates:","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"annotation-mat-file","dir":"Articles","previous_headings":"Output Files","what":"Annotation MAT File","title":"User Guide","text":"output/[sample_name].mat MATLAB-compatible format : classlist: ROI numbers class indices Compatible ifcb-analysis toolbox Note: Saving MAT files requires Python scipy.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"statistics-files","dir":"Articles","previous_headings":"Output Files","what":"Statistics Files","title":"User Guide","text":"output_folder/validation_statistics/[sample_name]_validation_stats.csv Summary: total, correct, incorrect, accuracy output_folder/validation_statistics/[sample_name]_validation_detailed.csv Per-image: original class, validated class, correct flag","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"organized-pngs","dir":"Articles","previous_headings":"Output Files","what":"Organized PNGs","title":"User Guide","text":"png_output_folder/[class_name]/[image_files] Images organized class folders training CNN models classifiers.","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"folder-paths","dir":"Articles","previous_headings":"Settings Reference","what":"Folder Paths","title":"User Guide","text":"Folder paths configured using web-based folder browser works platforms (Linux, macOS, Windows). Changing folder paths Settings automatically invalidates file index cache, triggering fresh scan.","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"python-configuration","dir":"Articles","previous_headings":"Settings Reference","what":"Python Configuration","title":"User Guide","text":"Python virtual environment path configured launching app: path remembered future sessions. Priority order: run_app(venv_path=) argument > saved settings > default (./venv).","code":"run_app(venv_path = \"/path/to/your/venv\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"classifier-options","dir":"Articles","previous_headings":"Settings Reference","what":"Classifier Options","title":"User Guide","text":"Apply classification threshold: loading MATLAB classifier output, use TBclass_above_threshold (checked) TBclass (unchecked).","code":""},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"summary-table-tab","dir":"Articles","previous_headings":"Statistics and Reporting","what":"Summary Table Tab","title":"User Guide","text":"Shows class distribution: Class name Image count Average/min/max confidence scores","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"validation-statistics-tab","dir":"Articles","previous_headings":"Statistics and Reporting","what":"Validation Statistics Tab","title":"User Guide","text":"Classification Performance: Total images Correct/incorrect counts Overall accuracy Per-class breakdown Changes Made: Table relabeling actions Original class → New class","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"session-cache","dir":"Articles","previous_headings":"","what":"Session Cache","title":"User Guide","text":"app maintains two types caches: -memory session cache (per session): Switching samples saves work automatically Returning sample restores changes Cache persists close app Note: Always click Save closing permanent storage. File index cache (persistent disk): Stores locations IFCB files across configured folders Persists sessions fast startup See File Index Cache details","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"settings-persistence","dir":"Articles","previous_headings":"","what":"Settings Persistence","title":"User Guide","text":"ClassiPyR stores settings configuration file follows R standards: Linux: ~/.config/R/ClassiPyR/settings.json macOS: ~/Library/Preferences/org.R-project.R/R/ClassiPyR/settings.json Windows: %APPDATA%/R/config/R/ClassiPyR/settings.json Settings loaded automatically start app, folder paths, class list location, Python venv path remembered sessions. Settings can reset specifying run_app(reset_settings = TRUE).","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/articles/user-guide.html","id":"dependencies","dir":"Articles","previous_headings":"","what":"Dependencies","title":"User Guide","text":"ClassiPyR relies iRfcb IFCB data operations: Extracting images ROI files Reading ADC metadata (dimensions, timestamps) Reading writing MATLAB .mat files Class list handling iRfcb installed automatically dependency install ClassiPyR.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Anders Torstensson. Author, maintainer.            Swedish Meteorological Hydrological Institute Claude Code. Contributor.           AI programming assistant (Anthropic Claude)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Torstensson, . (2026). ClassiPyR: Shiny Application Manual Image Classification Validation IFCB Data. R package version 0.0.0.9000. https://doi.org/10.5281/zenodo.18414999","code":"@Manual{,   title = {ClassiPyR: A Shiny Application for Manual Image Classification and Validation of IFCB Data},   author = {Anders Torstensson},   year = {2026},   note = {R package version 0.0.0.9000},   url = {https://doi.org/10.5281/zenodo.18414999}, }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"classipyr-","dir":"","previous_headings":"","what":"ClassiPyR","title":"ClassiPyR","text":"Shiny application manual (human) image classification validation Imaging FlowCytobot (IFCB) plankton images. Built researchers need validate automated classifications create training datasets machine learning classifiers. Full documentation: europeanifcbgroup.github.io/ClassiPyR","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"background","dir":"","previous_headings":"","what":"Background","title":"ClassiPyR","text":"ClassiPyR created provide lightweight, standalone annotation validation tool fully compatible ifcb-analysis toolbox custom classifiers (e.g. CNN). primary design goals user-friendliness portability—enabling researchers work IFCB data without complex setup requirements dependencies specific computing environments (Python R). achieve goals efficiently, Claude Code used development.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"ClassiPyR","text":"Dual Mode: Validate existing classifications annotate scratch Multiple Formats: Load CSV MATLAB classifier output Efficient Workflow: Drag-select, batch relabeling, class filtering MATLAB Compatible: Export ifcb-analysis toolbox CNN Training Ready: Organized PNG output class Measure Tool: Built-ruler image measurements Cross-Platform: Web-based folder browser works platforms","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"ClassiPyR","text":"ClassiPyR depends iRfcb IFCB data handling, installed automatically.","code":"install.packages(\"remotes\") remotes::install_github(\"EuropeanIFCBGroup/ClassiPyR\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"python-setup","dir":"","previous_headings":"Installation","what":"Python Setup","title":"ClassiPyR","text":"Python required saving annotations MATLAB .mat files. need read existing .mat files work CSV files, step optional.","code":"library(iRfcb) venv_path = \"/path/to/your/venv\" ifcb_py_install(venv_path)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"ClassiPyR","text":"See Getting Started guide detailed setup instructions.","code":"library(ClassiPyR) run_app()  # Or specify a Python virtual environment (takes priority over saved settings) run_app(venv_path = venv_path)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"ClassiPyR","text":"Getting Started - First-time setup User Guide - Complete feature reference Class List Management - Managing classes ifcb-analysis FAQ & Troubleshooting - Common issues","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"ClassiPyR","text":"","code":"citation(\"ClassiPyR\")"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"ClassiPyR","text":"MIT License - see LICENSE file.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/index.html","id":"disclaimer","dir":"","previous_headings":"","what":"Disclaimer","title":"ClassiPyR","text":"software provided research educational purposes. Users responsible data annotations. Always maintain backups original data. package partly developed assistance Claude Code, AI programming assistant Anthropic.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/copy_images_to_class_folders.html","id":null,"dir":"Reference","previous_headings":"","what":"Copy images to class-organized folders — copy_images_to_class_folders","title":"Copy images to class-organized folders — copy_images_to_class_folders","text":"Copies PNG images flat source folder class-organized subfolders, temporary use ifcb_annotate_samples permanent storage.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/copy_images_to_class_folders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Copy images to class-organized folders — copy_images_to_class_folders","text":"","code":"copy_images_to_class_folders(   classifications,   src_folder,   temp_folder,   output_folder )"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/copy_images_to_class_folders.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Copy images to class-organized folders — copy_images_to_class_folders","text":"classifications Classifications data frame file_name class_name columns src_folder Source folder containing PNG images temp_folder Temporary folder ifcb_annotate_samples output_folder Permanent output folder class-organized images","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/copy_images_to_class_folders.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Copy images to class-organized folders — copy_images_to_class_folders","text":"NULL (called side effects)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/copy_images_to_class_folders.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Copy images to class-organized folders — copy_images_to_class_folders","text":"","code":"if (FALSE) { # \\dontrun{ # Copy images to class folders copy_images_to_class_folders(   classifications = data.frame(     file_name = c(\"sample_00001.png\", \"sample_00002.png\"),     class_name = c(\"Diatom\", \"Ciliate\")   ),   src_folder = \"/tmp/png/sample\",   temp_folder = \"/tmp/annotate\",   output_folder = \"/data/png_output\" ) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_empty_changes_log.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty changes log data frame — create_empty_changes_log","title":"Create empty changes log data frame — create_empty_changes_log","text":"Creates empty data frame correct structure tracking annotation changes session.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_empty_changes_log.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty changes log data frame — create_empty_changes_log","text":"","code":"create_empty_changes_log()"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_empty_changes_log.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty changes log data frame — create_empty_changes_log","text":"Empty data frame columns: image, original_class, new_class","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_empty_changes_log.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create empty changes log data frame — create_empty_changes_log","text":"","code":"# Create an empty changes log changes <- create_empty_changes_log() print(names(changes)) #> [1] \"image\"          \"original_class\" \"new_class\"      print(nrow(changes)) #> [1] 0"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_new_classifications.html","id":null,"dir":"Reference","previous_headings":"","what":"Create new classifications for annotation mode — create_new_classifications","title":"Create new classifications for annotation mode — create_new_classifications","text":"Creates classifications data frame ROIs set \"unclassified\", use annotating sample scratch.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_new_classifications.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create new classifications for annotation mode — create_new_classifications","text":"","code":"create_new_classifications(sample_name, roi_dimensions)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_new_classifications.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create new classifications for annotation mode — create_new_classifications","text":"sample_name Sample name (e.g., \"D20230101T120000_IFCB134\") roi_dimensions Data frame read_roi_dimensions","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_new_classifications.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create new classifications for annotation mode — create_new_classifications","text":"Data frame columns: file_name, class_name, score, roi_area","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/create_new_classifications.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create new classifications for annotation mode — create_new_classifications","text":"","code":"# Create mock ROI dimensions roi_dims <- data.frame(   roi_number = 1:5,   width = c(100, 150, 80, 200, 120),   height = c(80, 100, 60, 150, 90),   area = c(8000, 15000, 4800, 30000, 10800) )  # Create new classifications (all unclassified) classifications <- create_new_classifications(   sample_name = \"D20230101T120000_IFCB134\",   roi_dimensions = roi_dims ) print(classifications) #>                            file_name   class_name score roi_area #> 4 D20230101T120000_IFCB134_00004.png unclassified    NA    30000 #> 2 D20230101T120000_IFCB134_00002.png unclassified    NA    15000 #> 5 D20230101T120000_IFCB134_00005.png unclassified    NA    10800 #> 1 D20230101T120000_IFCB134_00001.png unclassified    NA     8000 #> 3 D20230101T120000_IFCB134_00003.png unclassified    NA     4800"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/filter_to_extracted.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter classifications to only include extracted images — filter_to_extracted","title":"Filter classifications to only include extracted images — filter_to_extracted","text":"Filters classifications data frame include ROIs corresponding PNG files extracted folder.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/filter_to_extracted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter classifications to only include extracted images — filter_to_extracted","text":"","code":"filter_to_extracted(classifications, extracted_folder)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/filter_to_extracted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter classifications to only include extracted images — filter_to_extracted","text":"classifications Data frame classifications (must file_name column) extracted_folder Path folder extracted PNG images","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/filter_to_extracted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter classifications to only include extracted images — filter_to_extracted","text":"Filtered classifications data frame","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/filter_to_extracted.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter classifications to only include extracted images — filter_to_extracted","text":"","code":"if (FALSE) { # \\dontrun{ # Filter to only images that were successfully extracted classifications <- filter_to_extracted(   classifications = classifications,   extracted_folder = \"/tmp/png/D20230101T120000_IFCB134\" ) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_config_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get ClassiPyR configuration directory — get_config_dir","title":"Get ClassiPyR configuration directory — get_config_dir","text":"Returns path configuration directory storing settings. Uses tools::R_user_dir() CRAN compliance. R CMD check, uses temporary directory avoid writing user directories.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_config_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get ClassiPyR configuration directory — get_config_dir","text":"","code":"get_config_dir()"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_config_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get ClassiPyR configuration directory — get_config_dir","text":"Path configuration directory","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_config_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get ClassiPyR configuration directory — get_config_dir","text":"","code":"# Get the configuration directory path config_dir <- get_config_dir() print(config_dir) #> [1] \"/home/runner/.config/R/ClassiPyR\""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_file_index_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get path to file index cache — get_file_index_path","title":"Get path to file index cache — get_file_index_path","text":"Returns path file index JSON cache file. file index stores scanned folder results avoid expensive recursive directory scans startup.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_file_index_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get path to file index cache — get_file_index_path","text":"","code":"get_file_index_path()"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_file_index_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get path to file index cache — get_file_index_path","text":"Path file index JSON file","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_sample_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sample paths from sample name — get_sample_paths","title":"Get sample paths from sample name — get_sample_paths","text":"Constructs file paths IFCB data files (ROI, ADC) based standard IFCB folder structure: roi_folder/YYYY/DYYYYMMDD/sample_name.ext","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_sample_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sample paths from sample name — get_sample_paths","text":"","code":"get_sample_paths(sample_name, roi_folder)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_sample_paths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sample paths from sample name — get_sample_paths","text":"sample_name Sample name (e.g., \"D20220522T000439_IFCB134\") roi_folder Base ROI folder path","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_sample_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sample paths from sample name — get_sample_paths","text":"List components: year, date_part, roi_path, adc_path, adc_folder","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_sample_paths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sample paths from sample name — get_sample_paths","text":"","code":"# Get paths for a sample paths <- get_sample_paths(\"D20230101T120000_IFCB134\", \"/data/ifcb/raw\") print(paths$year)       # \"2023\" #> [1] \"2023\" print(paths$date_part)  # \"D20230101\" #> [1] \"D20230101\" print(paths$roi_path)   # \"/data/ifcb/raw/2023/D20230101/D20230101T120000_IFCB134.roi\" #> [1] \"/data/ifcb/raw/2023/D20230101/D20230101T120000_IFCB134.roi\""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_settings_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get path to settings file — get_settings_path","title":"Get path to settings file — get_settings_path","text":"Returns path settings JSON file, creating configuration directory exist.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_settings_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get path to settings file — get_settings_path","text":"","code":"get_settings_path()"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_settings_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get path to settings file — get_settings_path","text":"Path settings JSON file","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/get_settings_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get path to settings file — get_settings_path","text":"","code":"# Get the settings file path settings_path <- get_settings_path() print(settings_path) #> [1] \"/home/runner/.config/R/ClassiPyR/settings.json\""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/init_python_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize Python environment for iRfcb — init_python_env","title":"Initialize Python environment for iRfcb — init_python_env","text":"Checks Python already available via reticulate, otherwise tries use create virtual environment. Required reading writing MATLAB .mat files.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/init_python_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize Python environment for iRfcb — init_python_env","text":"","code":"init_python_env(venv_path = NULL)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/init_python_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize Python environment for iRfcb — init_python_env","text":"venv_path Optional path virtual environment. NULL (default), uses venv folder current working directory.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/init_python_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize Python environment for iRfcb — init_python_env","text":"TRUE Python available, FALSE otherwise","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/init_python_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Initialize Python environment for iRfcb — init_python_env","text":"resolution order : 1. Python already configured via reticulate, use directly    (installs scipy missing). 2. venv_path provided virtual environment exists,    activate . 3. venv_path provided exist, create via    ifcb_py_install. 4. venv_path NULL, default ./venv current    working directory steps 2–3.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/init_python_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialize Python environment for iRfcb — init_python_env","text":"","code":"if (FALSE) { # \\dontrun{ # Initialize with default venv path (./venv) success <- init_python_env()  # Initialize with custom venv path success <- init_python_env(\"/path/to/my/venv\")  if (success) {   message(\"Python ready for MAT file operations\") } } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/is_valid_sample_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate IFCB sample name format — is_valid_sample_name","title":"Validate IFCB sample name format — is_valid_sample_name","text":"Checks sample name matches expected IFCB naming convention: DYYYYMMDDTHHMMSS_IFCBNNN (e.g., D20230101T120000_IFCB134).","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/is_valid_sample_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate IFCB sample name format — is_valid_sample_name","text":"","code":"is_valid_sample_name(sample_name)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/is_valid_sample_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate IFCB sample name format — is_valid_sample_name","text":"sample_name Sample name validate","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/is_valid_sample_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate IFCB sample name format — is_valid_sample_name","text":"TRUE valid, FALSE otherwise","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/is_valid_sample_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate IFCB sample name format — is_valid_sample_name","text":"","code":"# Valid sample names is_valid_sample_name(\"D20230101T120000_IFCB134\") #> [1] TRUE is_valid_sample_name(\"D20220522T000439_IFCB1\") #> [1] TRUE  # Invalid sample names is_valid_sample_name(\"invalid_name\") #> [1] FALSE is_valid_sample_name(\"20230101T120000_IFCB134\")  # Missing 'D' prefix #> [1] FALSE is_valid_sample_name(NULL) #> [1] FALSE"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_class_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Load class list from MAT or TXT file — load_class_list","title":"Load class list from MAT or TXT file — load_class_list","text":"Reads class list either MATLAB .mat file (class2use format) plain text file one class per line. Class names sanitized safe use file paths HTML.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_class_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load class list from MAT or TXT file — load_class_list","text":"","code":"load_class_list(file_path)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_class_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load class list from MAT or TXT file — load_class_list","text":"file_path Path class2use file (.mat .txt)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_class_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load class list from MAT or TXT file — load_class_list","text":"Character vector class names","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_class_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load class list from MAT or TXT file — load_class_list","text":"","code":"if (FALSE) { # \\dontrun{ # Load from MATLAB file classes <- load_class_list(\"/path/to/class2use.mat\")  # Load from text file classes <- load_class_list(\"/path/to/class2use.txt\") } # }  # Create a temporary text file for demonstration tmp_file <- tempfile(fileext = \".txt\") writeLines(c(\"Diatom\", \"Ciliate\", \"Dinoflagellate\"), tmp_file) classes <- load_class_list(tmp_file) print(classes) #> [1] \"Diatom\"         \"Ciliate\"        \"Dinoflagellate\" unlink(tmp_file)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_file_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Load file index from disk cache — load_file_index","title":"Load file index from disk cache — load_file_index","text":"Reads cached file index exists valid JSON.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_file_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load file index from disk cache — load_file_index","text":"","code":"load_file_index()"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_file_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load file index from disk cache — load_file_index","text":"List cached data, NULL cache exists invalid","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_classifier_mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Load classifications from MATLAB classifier output file — load_from_classifier_mat","title":"Load classifications from MATLAB classifier output file — load_from_classifier_mat","text":"Reads MATLAB classifier output file (ifcb-analysis random forest classifier) extracts class predictions.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_classifier_mat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load classifications from MATLAB classifier output file — load_from_classifier_mat","text":"","code":"load_from_classifier_mat(   mat_path,   sample_name,   class2use,   roi_dimensions,   use_threshold = TRUE )"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_classifier_mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load classifications from MATLAB classifier output file — load_from_classifier_mat","text":"mat_path Path classifier MAT file (matching pattern *_class*.mat) sample_name Sample name (e.g., \"D20230101T120000_IFCB134\") class2use Character vector class names (unused, kept API consistency) roi_dimensions Data frame read_roi_dimensions use_threshold Logical, whether use threshold-based classification (TBclass_above_threshold) raw predictions (TBclass)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_classifier_mat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load classifications from MATLAB classifier output file — load_from_classifier_mat","text":"Data frame columns: file_name, class_name, score, roi_area","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_classifier_mat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load classifications from MATLAB classifier output file — load_from_classifier_mat","text":"","code":"if (FALSE) { # \\dontrun{ # Load classifier predictions dims <- read_roi_dimensions(\"/data/raw/2023/D20230101/D20230101T120000_IFCB134.adc\") classifications <- load_from_classifier_mat(   mat_path = \"/data/classified/D20230101T120000_IFCB134_class_v1.mat\",   sample_name = \"D20230101T120000_IFCB134\",   class2use = NULL,   roi_dimensions = dims,   use_threshold = TRUE ) head(classifications) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Load classifications from CSV file (validation mode) — load_from_csv","title":"Load classifications from CSV file (validation mode) — load_from_csv","text":"Reads classification CSV file returns data frame classifications. Class names processed truncate trailing numbers (matching iRfcb behavior).","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load classifications from CSV file (validation mode) — load_from_csv","text":"","code":"load_from_csv(csv_path)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load classifications from CSV file (validation mode) — load_from_csv","text":"csv_path Path classification CSV file","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load classifications from CSV file (validation mode) — load_from_csv","text":"Data frame classifications. Expected columns: `file_name`,   `class_name`, optionally `score`.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_csv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load classifications from CSV file (validation mode) — load_from_csv","text":"CSV file must contain following columns: file_name Image filename including `.png` extension     (e.g., `D20230101T120000_IFCB134_00001.png`). class_name Predicted class name (e.g., `Diatom`). optional column may also included: score Classification confidence value 0 1. CSV file must named sample describes (e.g., `D20230101T120000_IFCB134.csv`) placed inside Classification Folder configured app (subfolders searched recursively).","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load classifications from CSV file (validation mode) — load_from_csv","text":"","code":"if (FALSE) { # \\dontrun{ # Load classifications from a CSV file classifications <- load_from_csv(\"/path/to/D20230101T120000_IFCB134.csv\") head(classifications) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Load classifications from existing MAT annotation file — load_from_mat","title":"Load classifications from existing MAT annotation file — load_from_mat","text":"Reads MATLAB annotation file (created ClassiPyR ifcb-analysis) converts class indices class names using provided class list.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_mat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load classifications from existing MAT annotation file — load_from_mat","text":"","code":"load_from_mat(mat_path, sample_name, class2use, roi_dimensions)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load classifications from existing MAT annotation file — load_from_mat","text":"mat_path Path MAT file sample_name Sample name (e.g., \"D20230101T120000_IFCB134\") class2use Character vector class names (class2use file) roi_dimensions Data frame read_roi_dimensions","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_mat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load classifications from existing MAT annotation file — load_from_mat","text":"Data frame columns: file_name, class_name, score, roi_area","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/load_from_mat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load classifications from existing MAT annotation file — load_from_mat","text":"","code":"if (FALSE) { # \\dontrun{ # Load existing annotations dims <- read_roi_dimensions(\"/data/raw/2023/D20230101/D20230101T120000_IFCB134.adc\") class2use <- load_class_list(\"/data/class2use.mat\") classifications <- load_from_mat(   mat_path = \"/data/manual/D20230101T120000_IFCB134.mat\",   sample_name = \"D20230101T120000_IFCB134\",   class2use = class2use,   roi_dimensions = dims ) head(classifications) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/read_roi_dimensions.html","id":null,"dir":"Reference","previous_headings":"","what":"Read ROI dimensions from ADC file — read_roi_dimensions","title":"Read ROI dimensions from ADC file — read_roi_dimensions","text":"Reads IFCB ADC file extracts ROI dimensions (width, height, area) ROI sample.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/read_roi_dimensions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read ROI dimensions from ADC file — read_roi_dimensions","text":"","code":"read_roi_dimensions(adc_path)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/read_roi_dimensions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read ROI dimensions from ADC file — read_roi_dimensions","text":"adc_path Path ADC file","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/read_roi_dimensions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read ROI dimensions from ADC file — read_roi_dimensions","text":"Data frame columns: roi_number, width, height, area","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/read_roi_dimensions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read ROI dimensions from ADC file — read_roi_dimensions","text":"","code":"if (FALSE) { # \\dontrun{ # Read dimensions from an ADC file dims <- read_roi_dimensions(\"/data/ifcb/raw/2023/D20230101/D20230101T120000_IFCB134.adc\") head(dims) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/rescan_file_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Rescan folders and rebuild the file index cache — rescan_file_index","title":"Rescan folders and rebuild the file index cache — rescan_file_index","text":"Scans configured (specified) ROI, classification, output folders IFCB sample files saves results file index cache. can called outside Shiny app, e.g. cron job, keep cache date without manually clicking rescan button.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/rescan_file_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rescan folders and rebuild the file index cache — rescan_file_index","text":"","code":"rescan_file_index(   roi_folder = NULL,   csv_folder = NULL,   output_folder = NULL,   verbose = TRUE )"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/rescan_file_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rescan folders and rebuild the file index cache — rescan_file_index","text":"roi_folder Path ROI data folder. NULL, read saved settings. csv_folder Path classification folder (CSV/MAT). NULL, read saved settings. output_folder Path output folder annotations. NULL, read saved settings. verbose TRUE, print progress messages. Default TRUE.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/rescan_file_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rescan folders and rebuild the file index cache — rescan_file_index","text":"Invisibly returns file index list, NULL roi_folder invalid.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/rescan_file_index.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rescan folders and rebuild the file index cache — rescan_file_index","text":"folder paths provided, read saved settings.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/rescan_file_index.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rescan folders and rebuild the file index cache — rescan_file_index","text":"","code":"if (FALSE) { # \\dontrun{ # Rescan using saved settings rescan_file_index()  # Rescan with explicit paths rescan_file_index(   roi_folder = \"/data/ifcb/raw\",   csv_folder = \"/data/ifcb/classified\",   output_folder = \"/data/ifcb/manual\" )  # Use in a cron job: # Rscript -e 'ClassiPyR::rescan_file_index()' } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/run_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the ClassiPyR Shiny Application — run_app","title":"Run the ClassiPyR Shiny Application — run_app","text":"Launches ClassiPyR Shiny app manual image classification validation IFCB data. app relies iRfcb package reading IFCB data files requires Python (via reticulate) saving MATLAB .mat files.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/run_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the ClassiPyR Shiny Application — run_app","text":"","code":"run_app(venv_path = NULL, reset_settings = FALSE, launch.browser = TRUE, ...)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/run_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the ClassiPyR Shiny Application — run_app","text":"venv_path Optional path Python virtual environment. specified, path takes priority saved venv path settings, Python initialization startup Settings UI. NULL (default), app uses saved venv path settings, falls back 'venv' folder current working directory. reset_settings TRUE, deletes saved settings starting app. Useful troubleshooting starting fresh. Default FALSE. launch.browser TRUE (default), opens app system's default web browser. FALSE, opens RStudio viewer (available). Set function customize browser launching behavior. ... Additional arguments passed runApp","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/run_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the ClassiPyR Shiny Application — run_app","text":"function return; runs Shiny app","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/run_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the ClassiPyR Shiny Application — run_app","text":"","code":"if (FALSE) { # \\dontrun{ # Run with default settings (opens in browser) run_app()  # Run with a specific Python virtual environment run_app(venv_path = \"/path/to/my/venv\")  # Run on a specific port run_app(port = 3838)  # Open in RStudio viewer instead of browser run_app(launch.browser = FALSE)  # Reset all settings and start fresh run_app(reset_settings = TRUE) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/sanitize_string.html","id":null,"dir":"Reference","previous_headings":"","what":"Sanitize string for safe use in HTML/file paths — sanitize_string","title":"Sanitize string for safe use in HTML/file paths — sanitize_string","text":"Removes replaces characters dangerous HTML contexts file paths, including XSS attack vectors path traversal attempts.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/sanitize_string.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sanitize string for safe use in HTML/file paths — sanitize_string","text":"","code":"sanitize_string(x)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/sanitize_string.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sanitize string for safe use in HTML/file paths — sanitize_string","text":"x String sanitize","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/sanitize_string.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sanitize string for safe use in HTML/file paths — sanitize_string","text":"Sanitized string","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/sanitize_string.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sanitize string for safe use in HTML/file paths — sanitize_string","text":"","code":"# Remove HTML special characters sanitize_string(\"<script>alert('xss')<\/script>\") #> [1] \"scriptalert(xss)script\"  # Remove path traversal attempts sanitize_string(\"../../../etc/passwd\") #> [1] \"etcpasswd\"  # Normal strings pass through sanitize_string(\"Diatom_chain\") #> [1] \"Diatom_chain\""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_file_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Save file index to disk cache — save_file_index","title":"Save file index to disk cache — save_file_index","text":"Writes file index data JSON cache file fast startup.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_file_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save file index to disk cache — save_file_index","text":"","code":"save_file_index(data)"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_file_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save file index to disk cache — save_file_index","text":"data List containing scan results (sample names, path maps, etc.)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_file_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save file index to disk cache — save_file_index","text":"NULL (called side effects)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_sample_annotations.html","id":null,"dir":"Reference","previous_headings":"","what":"Save sample annotations to MAT and statistics files — save_sample_annotations","title":"Save sample annotations to MAT and statistics files — save_sample_annotations","text":"Saves current annotations sample, including: - MAT file compatible ifcb-analysis (requires Python) - Validation statistics CSV files - PNG images organized class","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_sample_annotations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save sample annotations to MAT and statistics files — save_sample_annotations","text":"","code":"save_sample_annotations(   sample_name,   classifications,   original_classifications,   changes_log,   temp_png_folder,   output_folder,   png_output_folder,   roi_folder,   class2use_path,   annotator = \"Unknown\",   adc_folder = NULL )"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_sample_annotations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save sample annotations to MAT and statistics files — save_sample_annotations","text":"sample_name Sample name (e.g., \"D20230101T120000_IFCB134\") classifications Current classifications data frame original_classifications Original classifications data frame (comparison) changes_log Changes log data frame create_empty_changes_log temp_png_folder Path temporary folder extracted PNG images output_folder Output folder path MAT files png_output_folder PNG output folder path (organized class) roi_folder ROI folder path (ADC file location, used fallback) class2use_path Path class2use file annotator Annotator name statistics adc_folder Direct path ADC folder. provided, used instead constructing path via get_sample_paths. supports non-standard folder structures.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_sample_annotations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save sample annotations to MAT and statistics files — save_sample_annotations","text":"TRUE success, FALSE failure","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_sample_annotations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save sample annotations to MAT and statistics files — save_sample_annotations","text":"","code":"if (FALSE) { # \\dontrun{ # Save annotations for a sample success <- save_sample_annotations(   sample_name = \"D20230101T120000_IFCB134\",   classifications = current_classifications,   original_classifications = original_classifications,   changes_log = changes_log,   temp_png_folder = \"/tmp/png\",   output_folder = \"/data/manual\",   png_output_folder = \"/data/png_output\",   roi_folder = \"/data/raw\",   class2use_path = \"/data/class2use.mat\",   annotator = \"John Doe\" ) } # }"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_validation_statistics.html","id":null,"dir":"Reference","previous_headings":"","what":"Save validation statistics to CSV files — save_validation_statistics","title":"Save validation statistics to CSV files — save_validation_statistics","text":"Compares current classifications original classifications saves summary detailed statistics CSV files.","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_validation_statistics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save validation statistics to CSV files — save_validation_statistics","text":"","code":"save_validation_statistics(   sample_name,   classifications,   original_classifications,   stats_folder,   annotator )"},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_validation_statistics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save validation statistics to CSV files — save_validation_statistics","text":"sample_name Sample name (e.g., \"D20230101T120000_IFCB134\") classifications Current classifications data frame original_classifications Original classifications data frame stats_folder Statistics output folder path annotator Annotator name","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_validation_statistics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save validation statistics to CSV files — save_validation_statistics","text":"NULL (called side effects)","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/reference/save_validation_statistics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save validation statistics to CSV files — save_validation_statistics","text":"","code":"if (FALSE) { # \\dontrun{ # Save validation statistics save_validation_statistics(   sample_name = \"D20230101T120000_IFCB134\",   classifications = current_classifications,   original_classifications = original_classifications,   stats_folder = \"/data/manual/validation_statistics\",   annotator = \"John Doe\" ) } # }"},{"path":[]},{"path":[]},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"sample-management-development-version","dir":"Changelog","previous_headings":"Features","what":"Sample Management","title":"ClassiPyR (development version)","text":"Load samples ROI files automatic year/month filtering Support validation mode (existing classifications) annotation mode (new samples) Resume previous annotations saved MAT files Navigate samples previous/next/random buttons Filter samples classification status (/classified/annotated/unannotated) Samples manual annotations auto-classifications can switch modes","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"classification-loading-development-version","dir":"Changelog","previous_headings":"Features","what":"Classification Loading","title":"ClassiPyR (development version)","text":"Load classifications CSV files (recursive folder search) Load classifications MATLAB classifier output (.mat files) Option apply classification threshold MATLAB results ✎ = manual annotation ✓ = auto-classification ✎✓ = (can switch modes) = Unannotated","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"file-index-cache-development-version","dir":"Changelog","previous_headings":"Features","what":"File Index Cache","title":"ClassiPyR (development version)","text":"Disk-based file index cache faster app startup subsequent launches Avoids expensive recursive directory scans folder contents haven’t changed Sync button sidebar manually refresh file index Cache age indicator shows folders last scanned rescan_file_index() function headless use (e.g. cron jobs) Cache stored platform-appropriate config directory alongside settings Auto-sync option (enabled default) control whether app scans startup","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"image-gallery-development-version","dir":"Changelog","previous_headings":"Features","what":"Image Gallery","title":"ClassiPyR (development version)","text":"Paginated image display (50/100/200/500 images per page) Images grouped class consecutive pages efficient review Filter images class Click select/deselect individual images Drag-select select multiple images Visual indicators selected relabeled images Unmatched class detection yellow warning highlighting","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"annotation-tools-development-version","dir":"Changelog","previous_headings":"Features","what":"Annotation Tools","title":"ClassiPyR (development version)","text":"Relabel selected images class Select / deselect buttons Quick class search relabel dropdown Changes tracked displayed statistics tab","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"class-list-management-development-version","dir":"Changelog","previous_headings":"Features","what":"Class List Management","title":"ClassiPyR (development version)","text":"Load class lists .mat .txt files Create class lists scratch directly app Edit class names (warnings index preservation ifcb-analysis) Add new classes end list Sort class list ID alphabetically (view ) Export class list .mat .txt Visual warnings classes classifications class2use list","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"output-development-version","dir":"Changelog","previous_headings":"Features","what":"Output","title":"ClassiPyR (development version)","text":"Save annotations MATLAB-compatible .mat files (using iRfcb) Save validation statistics CSV (validation_statistics/ subfolder) Organize output PNGs class folder (CNN training) Auto-save navigating samples Support non-standard folder structures via direct ADC path resolution Graceful handling empty (0-byte) ADC files","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"settings--persistence-development-version","dir":"Changelog","previous_headings":"Features","what":"Settings & Persistence","title":"ClassiPyR (development version)","text":"Configurable folder paths via settings modal Cross-platform web-based folder browser (shinyFiles) Settings persisted sessions (.classipyr_settings.json) Class list file path remembered auto-loaded startup Annotator name tracking statistics Cache invalidation folder paths change settings","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"user-interface-development-version","dir":"Changelog","previous_headings":"Features","what":"User Interface","title":"ClassiPyR (development version)","text":"Clean, modern interface using bslib (Flatly theme) Mode indicator showing current sample progress/accuracy Validation Statistics tab shows appropriate content based mode Switch annotation/validation modes dual-mode samples","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"technical-notes-development-version","dir":"Changelog","previous_headings":"","what":"Technical Notes","title":"ClassiPyR (development version)","text":"Requires Python scipy MAT file writing (optional - ifcb-analysis compatibility) Uses iRfcb package IFCB data handling Session cache preserves work switching samples File index cache reduces startup time avoiding redundant folder scans Security: Input validation, XSS prevention, path traversal protection","code":""},{"path":"https://europeanifcbgroup.github.io/ClassiPyR/news/index.html","id":"development-development-version","dir":"Changelog","previous_headings":"","what":"Development","title":"ClassiPyR (development version)","text":"application developed human-AI collaboration: - Anders Torstensson: Project vision, requirements, testing, guidance - Claude Code (Anthropic): Implementation, code generation, iterative refinement","code":""}]
